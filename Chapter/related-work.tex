\chapter{Related Work}\label{cap:related-work}
\thispagestyle{empty}

	We now present the state-of-the-art on the main topics related to the proposed work. 
	%To elucidate the importance and evolving role of peering infrastructures in the Internet topology, in Subsection~\ref{sec:rel-work-peering-infra} we discuss the most relevant studies that analyze the operational and internal characteristics of these infrastructures. 
	%In Subsection~\ref{sec:rel-work-relat-as}, we present the efforts to identify the type of peering relationships between ASes and how this classification can increase knowledge about aspects of the networks, such as geolocation. 
	%Mapping of peering interconnections and topology elements to physical locations improve understanding of network performance and resilience. The main related work tries to improve the accuracy of this mapping and are discussed in Subsection~\ref{sec:rel-work-mapping-peer} and \ref{sec:rel-work-mapping-topo-elem}, respectively.
	In Section~\ref{sec:rel-work-mapping-peer} and Section~\ref{sec:rel-work-mapping-topo-elem}, we present the efforts to improve the accuracy of mapping peering interconnections and topology elements to physical locations, respectively. The work mentioned in these sections presents valuable and solid geolocation and infrastructure inferences. However, they either do not scale, relying on a large number of active measurements or have limited scope, providing rich inferences for just a subset of topology elements. The drawbacks reveal vast potential and opportunity to improve the generation of geolocation knowledge.

	%\section{Relationship between ASes}
	%\label{sec:rel-work-relat-as}

	%\cite{Giotsas:2014:ICR:2663716.2663743, Giotsas:2013, Luckie:2013:RCC:2504730.2504735}

	\section{Mapping of peering interconnections and infrastructures}
	\label{sec:rel-work-mapping-peer}

	Measuring and mapping the Internet at AS-level is valuable to understand the underlying structure of the topology. However, mapping at this level considerably abstracts rich information about connectivity between networks at the Internet. Accurate knowledge of interconnection geolocation helps network troubleshooting, outage detection, and attack diagnosis. Recent efforts attempt to infer peering matrices (i.e., who peers with whom at which IXP) and map interconnections to physical locations where they occur. 

	Augustin et al.~\cite{Augustin:2009:IM:1644893.1644934} proposes a method to infer peering interconnections established at IXPs, identify IXP-specific peering matrices and better understand the IXP substrate of the Internetâ€™s AS-level ecosystem. The mechanism detected 278 IXPs and discovered the existence of about 44K IXP-related peering links. However, the method is costly both in time and number of active measurements. 

	Giotsas et al.~\cite{Giotsas:2015:MPI:2716281.2836122} propose an algorithm to infer the physical interconnection facility where an interconnection occurs among all possible candidates. The methodology provides accurate results but is unable to scale to large scenarios involving several colocation facilities, IXPs and ASes, given a large amount of active probing resources needed. The initial process of mapping networks and IXPs to facilities, required by the methodology, is manual and time-consuming to be developed/updated. Additionally, the methodology has a significant limitation because of the complexity to reproduce results and to apply it to other contexts.

	%\cite{Giotsas:2015:MPI:2716281.2836122} propose an algorithm to infer the physical interconnection facility where an interconnection occurs among all possible candidates. Uses data from PeeringDB, PCH, IXP, ASes and Network Operating Centers (NOCs) sites and lists provided in regional consortia of IXPs to build an initial mapping between AS, IXP, and facilities.
	%Measurements from RIPE Atlas, Looking Glass, iPlane and CAIDA Ark.
	
	%Methodology provides accurate results for the interfaces that resolve to a facility in a low number of iterations. Key insight is that the type of peering for an interconnection sufficiently constrains the number of candidate facilities to identify the specific facility where a given interconnection occurs.
	
	%Unable to scale to large scenarios involving several colocation facilities, IXPs, and ASes, given a large amount of active probing campaigns needed. Initial process of mapping networks and IXPs to facilities, required by the methodology, is extremely manual and time-consuming to be developed/updated. Methodology is very sensitive to missing or incorrect information and could yield inaccurate results. 

	\section{Mapping of topology elements}
	\label{sec:rel-work-mapping-topo-elem}


	Mapping network elements accurately to physical locations is a crucial task. Precise knowledge of router geolocation helps to detect BGP threats, estimate the geographic presence of ASes, and customize content delivery. It is possible to geolocate IP addresses through public or commercial databases, delay-based or DNS-based methods.

	\textbf{Geolocation databases.} Gharaibeh et al.~\cite{Gharaibeh:2017:LRG:3131365.3131380} compare router geolocation coverage and reliability in four popular geolocation databases. The authors show that despite having a  high coverage at country-level, databases are not accurate in geolocating routers at neither country- nor city-level, even if they agree significantly among each other. Poese et al.~\cite{Poese:2011:IGD:1971162.1971171} evaluates five IP geolocation databases. The results show that the vast majority of entries in the databases are biased to few popular countries. For example, a single country (e.g., United States) concentrates more than 45\% of the entries in these databases. Besides, the entries do not reflect official IP allocations and BGP routing tables.

	\textbf{Delay-based.} Topology-based Geolocation (TBG)~\cite{Katz-Bassett:2006:TIG:1177080.1177090} converts Internet route measurements from landmarks to target into constraints to geolocate the target and all of the routers along the path. The drawback is that the methodology is very sensitive to measurement errors, such as inflated latencies. GeoPing~\cite{Padmanabhan:2001:IGM:383059.383073} uses active delay measurements and needs landmarks with known geographic locations to geolocate a target host. It combines measurements to estimate the coordinates of a host. However, the geolocation of a target can only be accurately predicted if there is a landmark near the target host.

	\textbf{DNS-based.} The work of Huffaker et al.~\cite{Huffaker:2014:DDR:2656877.2656879} and Scheitle et al.~\cite{8002903} propose methods to geolocate routers based on geography-related strings in hostnames and validate the results with active measurements from different decentralized probes. Despite showing accurate results, the scope of both proposals is restricted since only a small subset of routers have apparent geographic hints in their DNS names. For example, ~\cite{Huffaker:2014:DDR:2656877.2656879} mention that only 3.6M of nearly 19M nodes ($\sim$19\%) in their dataset have apparent geographic hints in their DNS names. 

	%\cite{Gharaibeh:2017:LRG:3131365.3131380, Huffaker:2014:DDR:2656877.2656879, 8002903}

	%\cite{Gharaibeh:2017:LRG:3131365.3131380} shows that current commercial and public databases are not accurate in geolocating router at neither country- nor city-level. \cite{Huffaker:2014:DDR:2656877.2656879, 8002903} propose methods to accurately geolocate routers based on geography-related strings in hostnames and validate the results with active measurements from different decentralized probes. However, their scope is restricted since only a small subset of routers have apparent geographic hints in their DNS names.

	%The work of \cite{Giotsas:2017:DPI:3098822.3098855} combines location-tagging BGP Communities with a colocation map to infer the location of outages. Map is done similarly as in \cite{Giotsas:2015:MPI:2716281.2836122}. BGP communities have no standardized semantics and are only employed by half of the BGP paths announced on the Internet, which could lead to an incorrect and incomplete view of the infrastructure.
